define(["big.js"],(e=>(()=>{var t={667:()=>{},728:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GetStorageItemObject:()=>a}),r(628),r(327);var o=r(667),n=r.n(o);async function a(e,t){return e?t?function(e){if(navigator&&"ReactNative"===navigator.product)return n().getItem(e);if(window){const t=window.localStorage.getItem(e);return Promise.resolve(t)}return Promise.reject(new Error("No storage API available"))}(e).then((r=>{if(null===r)return Promise.reject(new Error(`Storage item '${e}' does not exist`));const o=JSON.parse(r);return function(e,t){return(r=t.guid,new Promise(((e,t)=>{mx.data.get({guid:r,callback:t=>e(t),error:e=>t(e)})}))).then((r=>r||function(e,t){return new Promise(((r,o)=>{mx.data.create({entity:e,callback:e=>{Object.keys(t).filter((e=>"guid"!==e)).forEach((r=>{const o=t[r];e.set(r,o)})),r(e)},error:()=>o(new Error(`Could not create '${e}' object`))})}))}(e,t)));var r}(t,o).then((t=>{const r=(o=t).getAttributes().reduce(((e,t)=>(e[t]=o.get(t),e)),{guid:o.getGuid()});var o;return function(e,t){return navigator&&"ReactNative"===navigator.product?n().setItem(e,t):window?(window.localStorage.setItem(e,t),Promise.resolve()):Promise.reject(new Error("No storage API available"))}(e,JSON.stringify(r)).then((()=>t))}))})):Promise.reject(new Error("Input parameter 'Entity' is required")):Promise.reject(new Error("Input parameter 'Key' is required"))}},605:(e,t,r)=>{"use strict";r.r(t),r.d(t,{JS_PopulateFeedbackMetadata:()=>a}),r(628),r(327);const o=async()=>{if(mx)try{return await mx.session.getUserRoleNames()}catch(e){return void console.error("Error getting user role names",e)}},n=async()=>{if(mx)try{switch(mx.version.split(".")[0]){case"9":case"10":return mx.ui.getContentForm().path.toString();default:return}}catch{return void console.error("Error getting page path",error)}};async function a(e){try{const t=await o(),r=await n();return e.set("ActiveUserRoles",t),e.set("PageName",r),e.set("EnvironmentURL",window.location.href),e.set("Browser",navigator.userAgent),e.set("ScreenWidth",window.screen.width),e.set("ScreenHeight",window.screen.height),e}catch(e){console.error("Error setting meta data",e)}}},758:(e,t,r)=>{"use strict";async function o(e){if(!e||"string"!=typeof e)throw new Error("Image was not removed from browser memory");URL.revokeObjectURL(e)}r.r(t),r.d(t,{JS_RevokeUploadedFileFromMemory:()=>o}),r(628),r(327)},382:(e,t,r)=>{"use strict";r.r(t),r.d(t,{JS_ToggleFeedbackAnnotateWidget:()=>s}),r(628),r(327);const o="mxFeedbackWidget_toggleAnnotateMode",n="mxFeedbackWidget_convertedToBase64",a="mxFeedbackWidget_actionCancelled",i=e=>{try{return JSON.parse(e)}catch{return}};async function s(e){const t={messageActionType:o,messageData:e};return postMessage(JSON.stringify(t),window.origin),new Promise((e=>{window.addEventListener("message",(function t(r){const o=i(r.data);r.origin===window.origin&&(o&&o.messageActionType===n&&(window.removeEventListener("message",t),e(o.messageData)),o&&o.messageActionType===a&&e())}))}))}},726:(e,t,r)=>{"use strict";r.r(t),r.d(t,{JS_ToggleFeedbackScreenshotWidget:()=>s}),r(628),r(327);const o="mxFeedbackWidget_convertedToBase64",n="mxFeedbackWidget_actionCancelled",a={messageActionType:"mxFeedbackWidget_toggleScreenshotMode"},i=e=>{try{return JSON.parse(e)}catch{return}};async function s(){return postMessage(JSON.stringify(a),window.origin),new Promise((e=>{window.addEventListener("message",(function t(r){const a=i(r.data);a&&r.origin===window.origin&&(a.messageActionType===o&&(window.removeEventListener("message",t),e(a.messageData)),a.messageActionType===n&&e("uploadCancelled"))}))}))}},447:(e,t,r)=>{"use strict";function o(e){let{fileInput:t,progressId:r}=e;r&&mx.ui.hideProgress(r),t&&document.body.removeChild(t)}async function n(e,t){return new Promise(((r,n)=>{try{const a=document.createElement("input");function i(e){const n=e.target.files[0],i=mx.ui.showProgress(null,!0);return function(e){let{acceptedTypes:t,fileType:r}=e;return!(!t&&!r)&&t.split(",").some((e=>new RegExp(e).test(r)))}({acceptedTypes:a.accept,fileType:n.type})?function(e){let{uploadedFile:t,maxSize:r}=e;return!(!t&&!r)&&t.size/1024/1024<r.c[0]+.1}({uploadedFile:n,maxSize:t})?void async function(e){return URL.createObjectURL(e)}(n).then((e=>{e&&"string"==typeof e?(o({fileInput:a,progressId:i}),r(e)):(o({fileInput:a,progressId:i}),r("fileNotConverted"))})):(o({fileInput:a,progressId:i}),void r("fileSizeNotAccepted")):(o({fileInput:a,progressId:i}),void r("fileTypeNotAccepted"))}a.style.position="absolute",a.style.left="-9999px",a.name="fileupload",a.id="fileupload",a.type="file",e&&(a.accept=e),a.multiple=!1,a.onchange=i,document.body.appendChild(a),a.addEventListener("cancel",(()=>r("uploadCancelled"))),a.click()}catch(s){n(s)}}))}r.r(t),r.d(t,{JS_UploadAndConvertToFileBlobURL:()=>n}),r(327),r(628)},532:(e,t,r)=>{"use strict";r.r(t),r.d(t,{SetStorageItemObject:()=>a}),r(327);var o=r(667),n=r.n(o);async function a(e,t){if(!e)return Promise.reject(new Error("Input parameter 'Key' is required"));if(!t)return Promise.reject(new Error("Input parameter 'Value' is required"));const r=(o=t).getAttributes().reduce(((e,t)=>(e[t]=o.get(t),e)),{guid:o.getGuid()});var o;return function(e,t){return navigator&&"ReactNative"===navigator.product?n().setItem(e,t):window?(window.localStorage.setItem(e,t),Promise.resolve()):Promise.reject(new Error("No storage API available"))}(e,JSON.stringify(r))}},327:t=>{"use strict";t.exports=e},628:()=>{}},r={};function o(e){var n=r[e];if(void 0!==n)return n.exports;var a=r[e]={exports:{}};return t[e](a,a.exports,o),a.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return(()=>{"use strict";o.r(n),o.d(n,{FeedbackModule$GetStorageItemObject:()=>c,FeedbackModule$JS_PopulateFeedbackMetadata:()=>e,FeedbackModule$JS_RevokeUploadedFileFromMemory:()=>s,FeedbackModule$JS_ToggleFeedbackAnnotateWidget:()=>i,FeedbackModule$JS_ToggleFeedbackScreenshotWidget:()=>r,FeedbackModule$JS_UploadAndConvertToFileBlobURL:()=>a,FeedbackModule$SetStorageItemObject:()=>t});const e=async()=>(await Promise.resolve().then(o.bind(o,605))).JS_PopulateFeedbackMetadata,t=async()=>(await Promise.resolve().then(o.bind(o,532))).SetStorageItemObject,r=async()=>(await Promise.resolve().then(o.bind(o,726))).JS_ToggleFeedbackScreenshotWidget,a=async()=>(await Promise.resolve().then(o.bind(o,447))).JS_UploadAndConvertToFileBlobURL,i=async()=>(await Promise.resolve().then(o.bind(o,382))).JS_ToggleFeedbackAnnotateWidget,s=async()=>(await Promise.resolve().then(o.bind(o,758))).JS_RevokeUploadedFileFromMemory,c=async()=>(await Promise.resolve().then(o.bind(o,728))).GetStorageItemObject})(),n})()));